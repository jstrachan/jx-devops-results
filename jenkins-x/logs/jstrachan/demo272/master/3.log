Step: build-step-credential-initializer-6svb7:

{"level":"warn","ts":1553528481.9636662,"logger":"fallback-logger","caller":"logging/config.go:65","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/backport-container-name-fix\" is not a valid GitHub commit ID"}
{"level":"info","ts":1553528481.9646585,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}
Step: build-step-git-source-jstrachan-demo272-master-59v6b:

{"level":"warn","ts":1553528482.6311426,"logger":"fallback-logger","caller":"logging/config.go:65","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/backport-container-name-fix\" is not a valid GitHub commit ID"}
{"level":"info","ts":1553528484.3701098,"logger":"fallback-logger","caller":"git-init/main.go:99","msg":"Successfully cloned \"https://github.com/jstrachan/demo272\" @ \"v0.0.19\" in path \"/workspace/source\""}
Step: build-step-place-tools:

Step: build-step-setup-jx-git-credentials:

Warning failed to load version: failed to parse version -dev+f4fe81a: No Major.Minor.Patch elements found
Generated Git credentials file /workspace/xdg_config/git/credentials
Step: build-step-build-mvn-deploy:

Picked up _JAVA_OPTIONS: -XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -Dsun.zip.disableMemoryMapping=true -XX:+UseParallelGC -XX:MinHeapFreeRatio=5 -XX:MaxHeapFreeRatio=10 -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Xms10m -Xmx192m
OpenJDK 64-Bit Server VM warning: If the number of processors is expected to increase from one, then you should configure the number of parallel GC threads appropriately using -XX:ParallelGCThreads=N
[WARNING] 
[WARNING] Some problems were encountered while building the effective settings
[WARNING] 'servers.server.id' must be unique but found duplicate server with id nexus @ /root/.m2/settings.xml
[WARNING] 
[INFO] Scanning for projects...
[INFO] 
[INFO] ------------------------< com.example:demo272 >-------------------------
[INFO] Building demo 0.0.19
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ demo272 ---
[INFO] 
[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ demo272 ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] Copying 0 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.0:compile (default-compile) @ demo272 ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 1 source file to /workspace/source/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:3.1.0:testResources (default-testResources) @ demo272 ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /workspace/source/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.0:testCompile (default-testCompile) @ demo272 ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 1 source file to /workspace/source/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:3.0.0-M1:test (default-test) @ demo272 ---
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running com.example.demo272.DemoApplicationTests
15:42:58.269 [main] DEBUG org.springframework.test.context.junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class com.example.demo272.DemoApplicationTests]
15:42:58.282 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
15:42:58.299 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
15:42:58.362 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [com.example.demo272.DemoApplicationTests] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
15:42:58.391 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.demo272.DemoApplicationTests], using SpringBootContextLoader
15:42:58.399 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.example.demo272.DemoApplicationTests]: class path resource [com/example/demo272/DemoApplicationTests-context.xml] does not exist
15:42:58.401 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.example.demo272.DemoApplicationTests]: class path resource [com/example/demo272/DemoApplicationTestsContext.groovy] does not exist
15:42:58.405 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.example.demo272.DemoApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
15:42:58.409 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.demo272.DemoApplicationTests]: DemoApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
15:42:58.510 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [com.example.demo272.DemoApplicationTests]
15:42:58.707 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/workspace/source/target/classes/com/example/demo272/DemoApplication.class]
15:42:58.715 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.demo272.DemoApplication for test class com.example.demo272.DemoApplicationTests
15:42:58.856 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - @TestExecutionListeners is not present for class [com.example.demo272.DemoApplicationTests]: using defaults.
15:42:58.858 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
15:42:58.876 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/transaction/TransactionDefinition]
15:42:58.878 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/transaction/interceptor/TransactionAttribute]
15:42:58.880 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@31368b99, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1725dc0f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3911c2a7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4ac3c60d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4facf68f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@76508ed1, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@41e36e46, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@15c43bd9, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3d74bf60, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4f209819]
15:42:58.900 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.example.demo272.DemoApplicationTests]
15:42:58.902 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.example.demo272.DemoApplicationTests]
15:42:58.906 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.example.demo272.DemoApplicationTests]
15:42:58.907 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.example.demo272.DemoApplicationTests]
15:42:58.910 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.example.demo272.DemoApplicationTests]
15:42:58.911 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.example.demo272.DemoApplicationTests]
15:42:58.918 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@3835c46 testClass = DemoApplicationTests, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1dde4cb2 testClass = DemoApplicationTests, locations = '{}', classes = '{class com.example.demo272.DemoApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4e7dc304, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@48503868, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1f57539, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@bd8db5a], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true]], class annotated with @DirtiesContext [false] with mode [null].
15:42:58.930 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.example.demo272.DemoApplicationTests]
15:42:58.936 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.example.demo272.DemoApplicationTests]
15:42:58.984 [main] DEBUG org.springframework.test.context.support.TestPropertySourceUtils - Adding inlined properties to environment: {spring.jmx.enabled=false, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=-1}

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.1.3.RELEASE)

2019-03-25 15:42:59.737  INFO 72 --- [           main] c.example.demo272.DemoApplicationTests   : Starting DemoApplicationTests on jstrachan-demo272-master-3-from-build-pack-h4l6k-pod-989f20 with PID 72 (started by root in /workspace/source)
2019-03-25 15:42:59.745  INFO 72 --- [           main] c.example.demo272.DemoApplicationTests   : No active profile set, falling back to default profiles: default
2019-03-25 15:43:05.493  INFO 72 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-03-25 15:43:07.105  INFO 72 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-03-25 15:43:07.443  INFO 72 --- [           main] c.example.demo272.DemoApplicationTests   : Started DemoApplicationTests in 8.441 seconds (JVM running for 9.905)
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 9.807 s - in com.example.demo272.DemoApplicationTests
2019-03-25 15:43:07.821  INFO 72 --- [       Thread-4] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
[INFO] 
[INFO] Results:
[INFO] 
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
[INFO] 
[INFO] --- maven-jar-plugin:3.1.1:jar (default-jar) @ demo272 ---
[INFO] Building jar: /workspace/source/target/demo272-0.0.19.jar
[INFO] 
[INFO] --- spring-boot-maven-plugin:2.1.3.RELEASE:repackage (repackage) @ demo272 ---
[INFO] Replacing main artifact with repackaged archive
[INFO] 
[INFO] --- maven-install-plugin:2.5.2:install (default-install) @ demo272 ---
[INFO] Installing /workspace/source/target/demo272-0.0.19.jar to /root/.mvnrepository/com/example/demo272/0.0.19/demo272-0.0.19.jar
[INFO] Installing /workspace/source/pom.xml to /root/.mvnrepository/com/example/demo272/0.0.19/demo272-0.0.19.pom
[INFO] 
[INFO] --- maven-deploy-plugin:2.8.2:deploy (default-deploy) @ demo272 ---
[INFO] Using alternate deployment repository nexus::default::http://nexus/repository/maven-releases/
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 27.695 s
[INFO] Finished at: 2019-03-25T15:43:12Z
[INFO] ------------------------------------------------------------------------
Step: build-step-build-skaffold-version:

v0.21.1
Step: build-step-build-container-build:

[36mINFO[0m[0000] Downloading base image openjdk:8-jdk-slim    
ERROR: logging before flag.Parse: E0325 15:43:14.265878      10 metadata.go:142] while reading 'google-dockercfg' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg
ERROR: logging before flag.Parse: E0325 15:43:14.270629      10 metadata.go:159] while reading 'google-dockercfg-url' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg-url
2019/03/25 15:43:14 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0001] Error while retrieving image from cache: getting file info: stat /workspace/sha256:04f59013873aee58b2b63e176c403d30a0caa04d165f496dcf2bee9c22f4152b: no such file or directory 
[36mINFO[0m[0001] Downloading base image openjdk:8-jdk-slim    
2019/03/25 15:43:15 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0002] cmd: EXPOSE                                  
[36mINFO[0m[0002] Adding exposed port: 8080/tcp                
[36mINFO[0m[0002] Using files from context: [/workspace/source/pom.xml] 
[36mINFO[0m[0002] Using files from context: [/workspace/source/target/demo272-0.0.19.jar] 
[36mINFO[0m[0002] Skipping unpacking as no commands require it. 
[36mINFO[0m[0002] Taking snapshot of full filesystem...        
[36mINFO[0m[0002] ENV PORT 8080                                
[36mINFO[0m[0002] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0002] ENV CLASSPATH /opt/lib                       
[36mINFO[0m[0002] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0002] EXPOSE 8080                                  
[36mINFO[0m[0002] cmd: EXPOSE                                  
[36mINFO[0m[0002] Adding exposed port: 8080/tcp                
[36mINFO[0m[0002] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0002] Using files from context: [/workspace/source/pom.xml] 
[36mINFO[0m[0002] COPY pom.xml target/lib* /opt/lib/           
[36mINFO[0m[0002] Taking snapshot of files...                  
[36mINFO[0m[0002] Using files from context: [/workspace/source/target/demo272-0.0.19.jar] 
[36mINFO[0m[0002] COPY target/*.jar /opt/app.jar               
[36mINFO[0m[0002] Taking snapshot of files...                  
[36mINFO[0m[0002] WORKDIR /opt                                 
[36mINFO[0m[0002] cmd: workdir                                 
[36mINFO[0m[0002] Changed working directory to /opt            
[36mINFO[0m[0002] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0002] CMD ["java", "-jar", "app.jar"]              
[36mINFO[0m[0002] No files changed in this command, skipping snapshotting. 
2019/03/25 15:43:16 existing blob: sha256:9a9ecf5ba38f4bf4157f41b104010963118089027eef2062a1faa0b846b2c857
2019/03/25 15:43:16 existing blob: sha256:b235bdb95dc99038adcc0ea3e3d78e781356c9a1d133a19da70120af738ccaaa
2019/03/25 15:43:16 existing blob: sha256:e7cf7535df66405ffc237795633b423682249444c5718b4b09a9a76a8dee0065
2019/03/25 15:43:16 existing blob: sha256:f7e2b70d04ae3f516c08c24d88de0f82699aaf3ee98af6eb208bd234136142b4
2019/03/25 15:43:16 existing blob: sha256:05d40fc3cf34dee2b2a441314fdd5adc73396c783b33d34a1385953d753bb2fb
2019/03/25 15:43:16 pushed blob sha256:74739081c9fa96b7eda6c28b9fd25863f96688459abbd558daa9ee2a06a036b6
2019/03/25 15:43:16 pushed blob sha256:1e978a87e01300c841cc1ad3798b5a1837641f169dcac6eeaf07a7e422032f20
2019/03/25 15:43:17 pushed blob sha256:68c690795427cec1c9d83ce64f372b25e2f00ca311bc68bb00a3f4faac0c5481
2019/03/25 15:43:17 10.31.250.228:5000/jstrachan/demo272:0.0.19: digest: sha256:a03e1eaf0e82bf44152e6cc63d0cf19c4ef533034dc30e507c73420dddb14a96 size: 1402
Step: build-step-build-post-build:

Warning failed to load version: failed to parse version -dev+f4fe81a: No Major.Minor.Patch elements found
no CVE provider running in the current jx namespace so skip adding image to be analysed
Step: build-step-promote-changelog:

Warning failed to load version: failed to parse version -dev+f4fe81a: No Major.Minor.Patch elements found
Converted /workspace/source/charts/demo272 to an unshallow repository
Generating change log from git ref 57931b30ae7dab653c6841cf17a35bcf3b63fbbf => 732bee846d15a0e886f19f0101cc75dd0632d237
Failed to enrich commits with issues: User.jenkins.io "" is invalid: metadata.name: Required value: name or generateName is required
Failed to enrich commits with issues: User.jenkins.io "" is invalid: metadata.name: Required value: name or generateName is required
Finding issues in commit messages using git format
No release found for jstrachan/demo272 and tag v0.0.19 so creating a new release
Updated the release information at https://github.com/jstrachan/demo272/releases/tag/v0.0.19
generated: /workspace/source/charts/demo272/templates/release.yaml
Created Release demo272-0-0-19 resource in namespace jx
Updating PipelineActivity jstrachan-demo272-master-3 with version 0.0.19
Updated PipelineActivities jstrachan-demo272-master-3 with release notes URL: https://github.com/jstrachan/demo272/releases/tag/v0.0.19
Step: build-step-promote-helm-release:

Warning failed to load version: failed to parse version -dev+f4fe81a: No Major.Minor.Patch elements found
No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: releases http://jenkins-x-chartmuseum:8080
Successfully added Helm repository releases.
Adding missing Helm repo: jenkins-x http://chartmuseum.jenkins-x.io
Successfully added Helm repository jenkins-x.
No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Uploading chart file demo272-0.0.19.tgz to http://jenkins-x-chartmuseum:8080/api/charts
Received 201 response: {"saved":true}
Step: build-step-promote-jx-promote:

Warning failed to load version: failed to parse version -dev+f4fe81a: No Major.Minor.Patch elements found
prow based install so skip waiting for the merge of Pull Requests to go green as currently there is an issue with gettingstatuses from the PR, see https://github.com/jenkins-x/jx/issues/2410
Promoting app demo272 version 0.0.19 to namespace jx-staging
Created Pull Request: https://github.com/cb-kubecd/environment-jstrachan-t3-staging/pull/3

Pull Request https://github.com/cb-kubecd/environment-jstrachan-t3-staging/pull/3 is merged at sha b57e000e9f8fa55c9657db276c44b23c86a548b6
Pull Request merged but we are not waiting for the update pipeline to complete!
